{"version":3,"sources":["components/SearchBar/SearchBar.js","components/ImageGallery/ImageGalleryItem.js","components/ImageGallery/ImageGalleryList.js","components/Modal/Modal.js","components/Button/Button.js","components/Loader/Loader.js","services/apiImg.js","App.js","index.js"],"names":["SearchBar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","className","styles","Searchbar","SearchForm","type","SearchFormbutton","SearchForminput","autocomplete","autofocus","placeholder","onChange","Component","ImageGalleryItem","id","tags","previewImg","largeImageURL","onImgClick","key","src","alt","onClick","defaultProps","ImageGalleryList","images","ImageGallery","map","webformatURL","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","Button","nameBtn","Spinner","color","height","width","timeout","searchQuery","currentPage","pageSize","axios","get","then","response","data","hits","App","isLoading","error","showModal","onChangeQuery","fetchImages","options","ApiImg","prevState","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","openModal","modalImage","closeModal","prevProps","fetchImg","showLoadMoreBtn","length","toast","warn","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.803eda2f.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport styles from \"../styles.css\";\r\n\r\nclass SearchBar extends Component {\r\n    state = { query: \"\" };\r\n\r\n    handleChange = (e) => {\r\n        this.setState({ query: e.currentTarget.value });\r\n    };\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const { query } = this.state;\r\n        this.props.onSubmit(query);\r\n        this.setState({ query: \"\" });\r\n    };\r\n\r\n    render() {\r\n        const { query } = this.state;\r\n        return (\r\n            <header className={styles.Searchbar}>\r\n                <form className={styles.SearchForm}>\r\n                    <button type=\"submit\" className={styles.SearchFormbutton}>\r\n                        <span className=\"SearchFormbuttonlabel\">Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={styles.SearchForminput}\r\n                        type=\"text\"\r\n                        autocomplete=\"off\"\r\n                        autofocus\r\n                        placeholder=\"Search images and photos\"\r\n                        value={query}\r\n                        onChange={this.handleChange}\r\n                    />\r\n                </form>\r\n            </header>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SearchBar;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"../styles.css\";\r\n\r\nconst ImageGalleryItem = ({\r\n    id,\r\n    tags,\r\n    previewImg,\r\n    largeImageURL,\r\n    onImgClick,\r\n}) => {\r\n    return (\r\n        <li key={id} className={styles.ImageGalleryItem}>\r\n            <img\r\n                src={previewImg}\r\n                alt={tags}\r\n                onClick={() => onImgClick(largeImageURL)}\r\n                className=\"ImageGalleryItem-image\"\r\n            />\r\n        </li>\r\n    );\r\n};\r\n\r\nImageGalleryItem.defaultProps = {\r\n    previewImg:\r\n        \"https://pypik.ru/uploads/posts/2018-09/1536907413_foto-net-no-ya-krasivaya-4.jpg\",\r\n    largeImageURL:\r\n        \"https://pypik.ru/uploads/posts/2018-09/1536907413_foto-net-no-ya-krasivaya-4.jpg\",\r\n    tags: \"sorry =( no info\",\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n    previewImg: PropTypes.string,\r\n    largeImageURL: PropTypes.string,\r\n    tags: PropTypes.string,\r\n    onImgClick: PropTypes.func.isRequired,\r\n    id: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"../styles.css\";\r\n\r\nconst ImageGalleryList = ({ images, onImgClick }) => {\r\n    return (\r\n        <>\r\n            <ul className={styles.ImageGallery}>\r\n                {images.map(({ id, tags, webformatURL, largeImageURL }) => (\r\n                    <ImageGalleryItem\r\n                        key={id}\r\n                        tags={tags}\r\n                        previewImg={webformatURL}\r\n                        largeImageURL={largeImageURL}\r\n                        onImgClick={onImgClick}\r\n                    />\r\n                ))}\r\n            </ul>\r\n        </>\r\n    );\r\n};\r\n\r\nImageGalleryList.propTypes = {\r\n    images: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            id: PropTypes.number.isRequired,\r\n        }).isRequired\r\n    ).isRequired,\r\n    onImgClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryList;\r\n","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport styles from \"../styles.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n    componentDidMount() {\r\n        window.addEventListener(\"keydown\", this.handleKeyDown);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n    }\r\n\r\n    handleKeyDown = (e) => {\r\n        if (e.code !== \"Escape\") {\r\n            return;\r\n        }\r\n        this.props.onClose();\r\n    };\r\n\r\n    handleBackdropClick = (e) => {\r\n        if (e.currentTarget !== e.target) {\r\n            return;\r\n        }\r\n        this.props.onClose();\r\n    };\r\n\r\n    render() {\r\n        return createPortal(\r\n            <div className={styles.Overlay} onClick={this.handleBackdropClick}>\r\n                <div className={styles.Modal}>{this.props.children}</div>\r\n            </div>,\r\n            modalRoot\r\n        );\r\n    }\r\n}\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"../styles.css\";\r\n\r\nconst Button = ({ nameBtn, onClick }) => (\r\n    <button type=\"button\" className={styles.Button} onClick={onClick}>\r\n        {nameBtn}\r\n    </button>\r\n);\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n    nameBtn: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nconst Spinner = () => {\r\n    return (\r\n        <Loader\r\n            type=\"Hearts\"\r\n            color=\"#00BFFF\"\r\n            height={80}\r\n            width={80}\r\n            timeout={2000}\r\n        />\r\n    );\r\n};\r\n\r\nexport default Spinner;\r\n","import axios from \"axios\";\r\n// import PropTypes from \"prop-types\";\r\n\r\nconst apiKey = \"16137003-a99878a83e3cf9a5973a72148\";\r\n\r\nconst fetchImg = ({ searchQuery = \"\", currentPage = 1, pageSize = 12 }) => {\r\n    return axios\r\n        .get(\r\n            `https://pixabay.com/api/?q=${searchQuery}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=${pageSize}&page=${currentPage}`\r\n        )\r\n        .then((response) => response.data.hits);\r\n};\r\n\r\n// fetchImg.propTypes = {\r\n//     searchQuery: PropTypes.string.isRequired,\r\n// };\r\n\r\nexport default { fetchImg };\r\n","import React, { Component } from \"react\";\nimport SearchBar from \"./components/SearchBar\";\nimport ImageGalleryList from \"./components/ImageGallery\";\nimport Modal from \"./components/Modal\";\nimport Button from \"./components/Button\";\nimport Loader from \"./components/Loader\";\nimport ApiImg from \"./services/apiImg\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nclass App extends Component {\n    state = {\n        images: [],\n        currentPage: 1,\n        searchQuery: \"\",\n        isLoading: false,\n        error: null,\n        showModal: false,\n        largeImageURL: \"\",\n    };\n\n    componentDidUpdate(prevState, prevProps) {\n        if (prevState.searchQuery !== this.state.searchQuery) {\n            this.fetchImg();\n        }\n    }\n\n    onChangeQuery = (query) => {\n        this.setState({\n            searchQuery: query,\n            images: [],\n            currentPage: 1,\n        });\n    };\n\n    fetchImages = () => {\n        const { currentPage, searchQuery } = this.state;\n        const options = { searchQuery, currentPage };\n\n        this.setState({ isLoading: true });\n\n        ApiImg.fetchImg(options)\n            .then((hits) => {\n                this.setState((prevState) => ({\n                    images: [...prevState.images, ...hits],\n                    currentPage: prevState.currentPage + 1,\n                }));\n                window.scrollTo({\n                    top: document.documentElement.scrollHeight,\n                    behavior: \"smooth\",\n                });\n            })\n            .catch((error) => this.setState({ error }))\n            .finally(() => this.setState({ isLoading: false }));\n    };\n\n    openModal = (largeImageURL) => {\n        this.setState({\n            showModal: true,\n            modalImage: largeImageURL,\n        });\n    };\n\n    closeModal = () => {\n        return this.setState({\n            showModal: false,\n            modalImage: \"\",\n        });\n    };\n\n    render() {\n        const { images, isLoading, error, showModal, modalImage } = this.state;\n        const showLoadMoreBtn = images.length > 0 && !isLoading;\n\n        return (\n            <>\n                <ToastContainer />\n\n                <SearchBar onSubmit={this.onChangeQuery} />\n\n                {error &&\n                    toast.warn(\n                        `Error is discipline through which we advance ${error}`\n                    )}\n\n                {images.length > 0 && (\n                    <ImageGalleryList\n                        images={images}\n                        onImgClick={this.openModal}\n                    />\n                )}\n\n                {showLoadMoreBtn && (\n                    <Button nameBtn={\"Load More\"} onClick={this.fetchImages} />\n                )}\n\n                {isLoading && <Loader />}\n\n                {showModal && (\n                    <Modal onClose={this.closeModal}>\n                        <img src={modalImage} alt=\"\" />\n                    </Modal>\n                )}\n            </>\n        );\n    }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n//import './index.css';\nimport App from \"./App\";\n//import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}